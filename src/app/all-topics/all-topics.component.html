<div class="wrapper " style="margin-top: 0px;">
    <div class="table2 " style="margin-bottom: 10px;">                                           
        <div class="row2">      
        <div class="cell2 d-flex text-left" style="box-shadow: none;">
            <h4> All Topics</h4>
        </div>
        <div class="cell2 mt-2 text-right">
          <button class="btn" (click)="showOnlyAdminTopics()" type="button" [ngClass]="{selectedClass: showAdminTopics==1,nonSelectedClass:showAdminTopics==0}">Admin Topics</button>
          <button class="btn" (click)="showOnlyUserTopics()" type="button" [ngClass]="{selectedClass: showAdminTopics==0,nonSelectedClass:showAdminTopics==1}">User Topics</button>
       </div>   
        <div class="cell2 mt-2 text-right">
            <button class="btn myBtn" type="button" (click)="openCreateDialog()">Add A Topic</button>
        </div>        
        <div class="cell2 myCell pl-lg-2 mt-2" >
          <div class="form-group">
            <span class="fa fa-search form-control-icon"></span>
            <input type="text" class="form-control" [(ngModel)]="filteredStatus" placeholder="Search Topic">   
          </div>
        </div>
      </div>
    </div> 

    <table class="table text-center" style="box-shadow: none;">
      <thead>
        <tr>
          <th scope="col">S.No</th>
          <!-- <th colspan="2" class="text-left">Topic details</th> -->
          <th colspan="2">Topic details</th>
          <th scope="col" *ngIf="showAdminTopics==0">UserName</th>
          <th scope="col">Date</th>
          <th scope="col">Default</th>
          <th scope="col">Manage</th>
          <th scope="col">View Chat</th> 
        </tr>
      </thead>
      <tbody  style="color:gray;font-weight: 600;">
        <tr *ngFor="let topic of allTopics | nameFilter : filteredStatus| paginate :{itemsPerPage:5,currentPage:p};let i = index;">
          <th scope="row">{{i+1}}</th>
          <td class="text-right" style="width:75px;"> 
            <img class="profile-avatar rounded-circle" src={{topic.topicIcon}} onerror="this.src='../../assets/topicImage.PNG'" alt="TopicImage" height="50px" width="50px">
          </td>
          <td class="text-left" style="width:200px;">
            {{ topic.topicName | titlecase}}
          </td>
          <td *ngIf="showAdminTopics==0">
            {{topic.userName | titlecase}}
          </td>
          <td>
            <p>{{ topic.creationTimeStamp | date:'mediumDate' }}</p>
            <p style="margin-top: -20px;color: #C5C7CD;font-weight: 400;">{{ topic.creationTimeStamp | date:'shortTime' }}</p>
          </td>
          <td>
            <mat-slide-toggle [checked]="topic.isDefaultTopic==1?true:false" (change)="toggle($event,topic.topicId)"></mat-slide-toggle>       
          </td>            
          <td><a (click)="openEditDialog(topic)" style="cursor: pointer;color: #9250E5;" > Manage</a></td>
          <td><a routerLink="/admin/topic-chat/{{topic.topicId}}" style="color: #9250E5;" > View</a></td>
        </tr>    
      </tbody>
    </table>

<!-- pagination -->
<pagination-controls (pageChange)="p=$event"></pagination-controls>
   

<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading topic(s)...</p>
</ngx-spinner>
